%% 問題一
[output,fs]=audio_SNR('2.wav','horn.wav',10,1);
output1=WienerScalart96(output,fs,0.8);
%sound(output1,fs);
audiowrite("clearwav2.wav", output1, fs);
%% picture
[y1,fs1]=audioread('1.wav');
time=(1:length(y1))/fs1;
y1=y1(:,1);
figure;
spectrogram(y1,1024,1000,[],fs1,'yaxis');
title('1.wav');
figure;
plot(time,y1);title('1.wav');
ylabel("震幅");
xlabel('Time(s)')
%自己寫的混和函式
[signal_horn,signal_whitenoise,signal_mouse]=SNR_demo('1.wav',11025,11025,11025)


%% 問題二
total=[1,2,3]
namen='1.wav'
[y1,y2,y3]=countSSNR(namen,10)
[y4,y5,y6]=countSSNR(namen,50)
A=[y1,y2,y3];
B=[y4,y5,y6];
total=[total;A;B];
namen='2.wav';
[y1,y2,y3]=countSSNR(namen,10);
[y4,y5,y6]=countSSNR(namen,50);
A=[y1,y2,y3];
B=[y4,y5,y6];
total=[total;A;B];
namen='3.wav';
[y1,y2,y3]=countSSNR(namen,10);
[y4,y5,y6]=countSSNR(namen,50);
A=[y1,y2,y3];
B=[y4,y5,y6];
total=[total;A;B];
namen='4.wav';
[y1,y2,y3]=countSSNR(namen,10);
[y4,y5,y6]=countSSNR(namen,50);
A=[y1,y2,y3];
B=[y4,y5,y6];
total=[total;A;B];
namen='5.wav';
[y1,y2,y3]=countSSNR(namen,10);
[y4,y5,y6]=countSSNR(namen,50);
A=[y1,y2,y3];
B=[y4,y5,y6];
total=[total;A;B];
namen='6.wav';
[y1,y2,y3]=countSSNR(namen,10);
[y4,y5,y6]=countSSNR(namen,50);
A=[y1,y2,y3];
B=[y4,y5,y6];
total=[total;A;B];
namen='7.wav';
[y1,y2,y3]=countSSNR(namen,10);
[y4,y5,y6]=countSSNR(namen,50);
A=[y1,y2,y3];
B=[y4,y5,y6];
total=[total;A;B];
namen='8.wav';
[y1,y2,y3]=countSSNR(namen,10);
[y4,y5,y6]=countSSNR(namen,50);
A=[y1,y2,y3];
B=[y4,y5,y6];
total=[total;A;B];
namen='9.wav';
[y1,y2,y3]=countSSNR(namen,10);
[y4,y5,y6]=countSSNR(namen,50);
A=[y1,y2,y3];
B=[y4,y5,y6];
total=[total;A;B];
namen='10.wav';
[y1,y2,y3]=countSSNR(namen,10);
[y4,y5,y6]=countSSNR(namen,50);
A=[y1,y2,y3];
B=[y4,y5,y6];
total=[total;A;B]
%% 

